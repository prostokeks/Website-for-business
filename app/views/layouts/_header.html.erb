<nav class="border-gray-200 px-2 md:px-4 py-2.5 bg-gray-900">
  <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl">
    <a href="#" class="flex items-center">
      <img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo">
      <span class="self-center text-xl font-semibold whitespace-nowrap text-white">DOSI</span>
    </a>
    <div class="flex items-center md:order-2">

      <div data-controller="dropdown">
          <% if user_signed_in?  %>
            <button data-action="click->dropdown#toggleDropdown"
                    class="flex flex-row items-center space-x-2 w-full px-4 py-2 mt-2 font-semibold text-left bg-transparent md:w-auto md:inline md:mt-0 md:ml-4 text-gray-100">
              <span class= "rounded-md "><%= current_user.name %> <%= current_user.last_name %></span>
              <% if current_user.avatar.attached? %>
                <%= image_tag current_user.avatar, class: "inline w-10 h-10 rounded-full" %>
              <% else %>
                <img class="inline h-10 w-10 rounded-full" src="https://st2.depositphotos.com/47577860/46283/v/450/depositphotos_462836132-stock-illustration-assassin-deadpool-face-icon.jpg" alt="">
              <% end %>
            </button>
          <% else %>
            <%= link_to "Login", new_user_session_path, class: "text-white focus:ring-4 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 mr-1 md:mr-2 hover:bg-gray-700 focus:outline-none focus:ring-gray-800" %>
            <%= link_to "Sign up", new_user_registration_path, class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 mr-1 md:mr-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800" %>
          <% end %>
          <div data-dropdown-target="dropdownContent"
               class="absolute right-0 w-full mt-2 origin-top-right rounded-md shadow-lg md:w-48 font-medium text-sm text-gray-400">
            <div class="origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 focus:outline-none bg-gray-700" >
              <%= link_to(edit_user_registration_path, class: "block px-4 py-2 flex items-center text-gray-400 hover:text-blue-600 hover:text-blue-500 group") do %>
                <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                <span>Profile Settings</span>
              <% end %>

              <% if user_signed_in? #and current_user.workgroup == "admin" %>
                <div class="border-b border-gray-800"></div>
                <%= link_to(office_dashboard_path, class: "block px-4 py-2 flex items-center text-gray-400 hover:text-blue-500 group") do %>
                  <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M2.5 2v6h6M21.5 22v-6h-6"/><path d="M22 11.5A10 10 0 0 0 3.2 7.2M2 12.5a10 10 0 0 0 18.8 4.2"/></svg>
                  <span>Office</span>
                <% end %>
              <% end %>
              <div class="border-b border-gray-800"></div>
              <%= link_to(destroy_user_session_path, class: "block px-4 py-2 flex items-center text-gray-400 hover:text-blue-500 group") do %>
                <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 17l5-5-5-5M19.8 12H9M10 3H4v18h6"/></svg>
                <span>Exit</span>
              <% end %>
            </div>
          </div>
        </div>

      <button type="button" class="inline-flex items-center p-2 ml-1 text-sm rounded-lg md:hidden focus:outline-none focus:ring-2 focus:ring-gray-200 text-gray-400 hover:bg-gray-700 dark:focus:ring-gray-600">
        <span class="sr-only">Open main menu</span>
        <svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
      </button>
    </div>
    <div id="mega-menu-icons" class="hidden justify-between items-center w-full md:flex md:w-auto md:order-1">
      <ul class="flex flex-col mt-4 text-sm font-medium md:flex-row md:space-x-8 md:mt-0">
        <li>
          <%= link_to "Home", root_path, class: "block py-2 pr-4 pl-3 border-b md:hover:bg-transparent md:border-0 md:hover:text-blue-500 md:p-0 text-gray-400 hover:bg-gray-700 border-gray-700" %>
        </li>
        <li>
          <div data-controller="dropdown">
          <button data-action="click->dropdown#toggleDropdown" class="flex justify-between items-center py-2 pr-4 pl-3 w-full font-medium text-gray-400 border-b md:w-auto hover:bg-gray-700 md:hover:bg-transparent md:border-0 md:hover:text-blue-500 md:p-0 border-gray-700">
            Company
            <svg aria-hidden="true" class="ml-1 w-5 h-5 md:w-4 md:h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
          </button>
          <div data-dropdown-target="dropdownContent">
          <div class="grid absolute z-10 grid-cols-2 w-auto text-sm rounded-lg border shadow-md border-gray-700 md:grid-cols-3 bg-gray-700 block" style="position: absolute; inset: 0px auto auto 0px; margin: 10px; transform: translate3d(311.6px, 70.4px, 0px); " >
            <div class="p-4 pb-0 md:pb-4 text-white">
              <ul class="space-y-4" aria-labelledby="mega-menu-icons-dropdown-button">
                <li>
                  <%= link_to(root_path, class: "flex items-center text-gray-400 hover:text-blue-500 group") do %>
                    <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
                    About Us
                  <% end %>
                </li>
                <li>
                  <%= link_to(libraries_path, class: "flex items-center text-gray-400 hover:text-blue-500 group") do %>
                    <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                    Library
                  <% end %>
                </li>
                <li>
                  <%= link_to(forums_path, class: "flex items-center text-gray-400 hover:text-blue-500 group") do %>
                    <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"></path></svg>
                    Forum
                  <% end %>
                </li>
              </ul>
            </div>
            <div class="p-4 pb-0 md:pb-4 text-white">
              <ul class="space-y-4">
                <li>
                  <%= link_to(blogs_path, class: "flex items-center text-gray-400 hover:text-blue-500 group") do %>
                    <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z" clip-rule="evenodd"></path><path d="M15 7h1a2 2 0 012 2v5.5a1.5 1.5 0 01-3 0V7z"></path></svg>
                    Blog
                  <% end %>
                </li>
                <li>
                  <%= link_to(products_internal_path, class: "flex items-center text-gray-400 hover:text-blue-500 group") do %>
                    <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"></path></svg>
                    Internal Products
                  <% end %>
                </li>
                <li>
                  <%= link_to(products_outsourcing_path, class: "flex items-center text-gray-400 hover:text-blue-500 group") do %>
                    <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"></path></svg>
                    Outsourcing Products
                  <% end %>
                </li>
              </ul>
            </div>
            <div class="p-4 text-white">
              <ul class="space-y-4">
                <li>
                  <%= link_to(new_contact_path, class: "flex items-center text-gray-400 hover:text-blue-500 group") do %>
                    <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path></svg>
                    Contact Us
                  <% end %>
                </li>
                <li>
                  <%= link_to(careers_path, class: "flex items-center text-gray-400 hover:text-blue-500 group") do %>
                    <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0c0 .993-.241 1.929-.668 2.754l-1.524-1.525a3.997 3.997 0 00.078-2.183l1.562-1.562C15.802 8.249 16 9.1 16 10zm-5.165 3.913l1.58 1.58A5.98 5.98 0 0110 16a5.976 5.976 0 01-2.516-.552l1.562-1.562a4.006 4.006 0 001.789.027zm-4.677-2.796a4.002 4.002 0 01-.041-2.08l-.08.08-1.53-1.533A5.98 5.98 0 004 10c0 .954.223 1.856.619 2.657l1.54-1.54zm1.088-6.45A5.974 5.974 0 0110 4c.954 0 1.856.223 2.657.619l-1.54 1.54a4.002 4.002 0 00-2.346.033L7.246 4.668zM12 10a2 2 0 11-4 0 2 2 0 014 0z" clip-rule="evenodd"></path></svg>
                    Careers
                  <% end %>
                </li>
              </ul>
            </div>
          </div>
          </div>
          </div>

        </li>
        <li>
          <%= link_to "Team", team_path, class: "block py-2 pr-4 pl-3 text-gray-400 border-b md:hover:bg-transparent md:border-0 md:hover:text-blue-500 md:p-0 hover:bg-gray-700 border-gray-700" %>
        </li>
      </ul>
    </div>
  </div>
</nav>
